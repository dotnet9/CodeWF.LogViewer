<?xml version="1.0" encoding="utf-8"?>
<!-- https://go.microsoft.com/fwlink/?LinkID=208121. -->
<Project>
  <PropertyGroup>
    <Configuration>Release</Configuration>
    <Platform>x64</Platform>
    <PublishDir>bin\Release\net10.0-windows\publish\win-x64\</PublishDir>
    <PublishProtocol>FileSystem</PublishProtocol>
    <_TargetId>Folder</_TargetId>
    <TargetFramework>net10.0-windows</TargetFramework>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>true</SelfContained>
    <PublishSingleFile>true</PublishSingleFile>
    <PublishReadyToRun>true</PublishReadyToRun>

	  <!-- AOT 核心开关：必须添加，否则仅为普通发布，不触发 AOT 编译 -->
	  <PublishAot>true</PublishAot>

	  <!-- Trim 配置：直接写在 pubxml 中，无需重复到 .csproj -->
	  <IsTrimmable>true</IsTrimmable>
	  <PublishTrimmed>true</PublishTrimmed>

	  <!-- 关键适配：.NET 10 + Avalonia 推荐 Trim 模式 -->
	  <TrimMode>partial</TrimMode>
	  <!-- 避免裁剪 Avalonia 核心组件和 XAML 依赖 -->
	  <TrimIncludeTestAssemblies>false</TrimIncludeTestAssemblies>
	  <!-- 排除测试组件裁剪 -->

	  <!-- 可选优化：减小体积 + 提升启动速度 -->
	  <DebugType>none</DebugType>
	  <!-- 禁用调试符号 -->
	  <DebugSymbols>false</DebugSymbols>
	  <PublishReadyToRunShowWarnings>false</PublishReadyToRunShowWarnings>
	  <!-- 关闭 R2R 警告 -->
	  <EnableCompiledBindings>true</EnableCompiledBindings>
	  <!-- 启用 Avalonia 编译绑定（.NET 10 优化） -->
  </PropertyGroup>
</Project>